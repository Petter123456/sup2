

const productarea =   $('.productarea').val()


function confirm_order(){
  $(".modal-body #confirm_position").val( document.cookie);

};

$(document).on('ready', function(){
  // $('.supplier').hide();;
  // $('.header').hide();
  $('.login_form').hide();
  $('.signup_form').hide();
  $('.order_button').hide ();

  $('.välj_leverator').click(function(e){

// check for login
if ($(".petterpetter").text() === 'true') {
$('.btn.btn-primary.test').trigger('click')
// show selected data, confirm and back button
e.preventDefault();

  confirm_order();


} else {
  var position = $('.position').val();
  document.cookie = "position = "+ position
  window.location = '/login'

  }
});

  $('.show').click(function(e){
    var isValid = true;
    // e.preventDefault(); // preventss default behavior
    if ($('.salary').val().length < 5) {
      alert("Salary too low, please fill in realistic salary");
      isValid = false
    }
    else if(Date.parse($('.start_date').val()) > Date.parse($('.end_date').val())){
      alert("start datum kan inte förekomma efter slut datum");
      isValid = false
    }
    else if(Date.parse($('.start_date').val()) < Date.now()){
      alert("start datum måste förekomma efter dagens datum");
      isValid = false
    }
    else if (experianceVsPositionPercentage() === true ){
      // return false
      isValid = false
    }
    else if (MinSalaryIt() === true ){
      // return false
      isValid = false
    }
    else if (MinSalaryFinance() === true ){
      // return false
      isValid = false
    }
    else {
      $('.supplier').show();;
      $('.header').show();
      isValid = true
    };
    if (!isValid) {
      e.preventDefault();
    };
  });


  $('.välj_leverator').click(function(){
    $('.login_form').show();
    return false;
  });

  $('.link_to_signup_form').click(function(){ //PROBLEM WHEN GENERATED SHOULD APPEAR INFRONT OF LOGIN_FORM & WHEN FILLED AND SUBMITTED SHOW ORDER_BUTTON
    $('.signup_form').show();
    return false;
  });

  $('.login_button').click(function(){
    //PROBLEM IF LOGGED IN OK THEN SHOW:
    $('.order_button').show();
    return false;
  });
});

function MinSalaryIt() {
    if ($('.productarea .opts').val() === "IT" && $('.experience').val() === "1 year" && Number($('.salary').val()) < 33000){
        alert("The salary you have choosen for the given position is too low, please enter a realistic salary");
        return true
    }
    else if ($('.productarea .opts').val() === "IT" && $('.experience').val() === "2 years" && Number($('.salary').val()) < 37000){
        alert("The salary you have choosen for the given position is too low, please enter a realistic salary")
        return true

    }
    else if ($('.productarea .opts').val() === "IT" && $('.experience').val() === "3 years" && Number($('.salary').val()) < 40000){
        alert("The salary you have choosen for the given position is too low, please enter a realistic salary")
        return true

    }
    else if ($('.productarea .opts').val() === "IT" && $('.experience').val() === "4 years" && Number($('.salary').val()) < 45000){
        alert("The salary you have choosen for the given position is too low, please enter a realistic salary")
        return true

    }
    else if ($('.productarea .opts').val() === "IT" && $('.experience').val() === "5 years" && Number($('.salary').val()) < 50000){
        alert("The salary you have choosen for the given position is too low, please enter a realistic salary")
        return true
    }
  };

  function MinSalaryFinance() {
      if ($('.productarea .opts').val() === "Finance" && $('.experience').val() === "1 year" && Number($('.salary').val()) < 33000){
          alert("The salary you have choosen for the given position is too low, please enter a realistic salary");
          return true
      }
      else if ($('.productarea .opts').val() === "Finance" && $('.experience').val() === "2 years" && Number($('.salary').val()) < 37000){
          alert("The salary you have choosen for the given position is too low, please enter a realistic salary")
          return true
      }
      else if ($('.productarea .opts').val() === "Finance" && $('.experience').val() === "3 years" && Number($('.salary').val()) < 40000){
          alert("The salary you have choosen for the given position is too low, please enter a realistic salary")
          return true
      }
      else if ($('.productarea .opts').val() === "Finance" && $('.experience').val() === "4 years" && Number($('.salary').val()) < 45000){
          alert("The salary you have choosen for the given position is too low, please enter a realistic salary")
          return true
      }
      else if ($('.productarea .opts').val() === "Finance" && $('.experience').val() === "5 years" && Number($('.salary').val()) < 50000){
          alert("The salary you have choosen for the given position is too low, please enter a realistic salary")
          return true
      }
    };

  function experianceVsPositionPercentage(){
    var experience = $('.experience').val();
    var percentage = $('.percentage').val();

    if (percentage !== "100 %" && experience !== "Student" && experience !== "Just Graduated") {
      alert("The person you are looking for will not be interested anything other than a fulltime position please update the position percentage or lower the level of experance to Just Graduated")
      return true
    }
  };


//
